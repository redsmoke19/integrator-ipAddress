"use strict";!function(){var e,t;!function(){for(var o=document.querySelectorAll("._simple-phone"),n={mask:"+{7} (000) 000-00-00"},e=0;e<o.length;e++)!function(e){var t=IMask(o[e],n);o[e].addEventListener("click",function(){o[e].value||(o[e].value="+7 ",t.updateValue())}),o[e].addEventListener("focus",function(){o[e].value||(o[e].value="+7 ",t.updateValue())}),o[e].addEventListener("blur",function(){"+7 "===o[e].value&&(o[e].value="",t.updateValue())})}(e)}(),e=document.querySelectorAll("._order-phone"),t={mask:"+{7} ( 000 ) 000-00-00",lazy:!1},e.forEach(function(e){IMask(e,t)}),ymaps.ready(function(){var e=new ymaps.Map("map",{center:[59.850509,30.304028],zoom:14,controls:[]}),t=(ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),new ymaps.Placemark(e.getCenter(),{hintContent:"Офис Intergator.Digital"},{iconLayout:"default#image",iconImageHref:"./static/images/content/map_marker.svg",iconImageSize:[30,42],iconImageOffset:[-5,-38]}));e.geoObjects.add(t)}),function(){for(var l=!0,o=document.querySelectorAll("._popup-link"),u=document.querySelectorAll(".popup"),e=function(e){var t=o[e];t.addEventListener("click",function(e){l&&function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";0<document.querySelectorAll(".popup._active").length&&r("",!1);var o=document.querySelector(".popup_"+e);o&&l&&(""!=t&&null!=t&&(document.querySelector(".popup_video").querySelector(".popup__video").innerHTML='<iframe src="https://www.youtube.com/embed/'+t+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'),document.querySelector(".menu__body._active")||function(e){var t=document.querySelector("body");if(l){for(var o=document.querySelectorAll("._lp"),n=0;n<o.length;n++)o[n].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",t.classList.add("_lock"),l=!1,setTimeout(function(){l=!0},e)}}(500),o.classList.add("_active"),history.pushState("","","#"+e))}(t.getAttribute("href").replace("#",""),t.getAttribute("data-video")),e.preventDefault()})},t=0;t<o.length;t++)e(t);for(var n=0;n<u.length;n++)u[n].addEventListener("click",function(e){e.target.closest(".popup__body")||r(e.target.closest(".popup"))});function r(e,t){var o,n,r=!(1<arguments.length&&void 0!==t)||t;if(l){if(e){t=e.querySelector(".popup__video");t&&(t.innerHTML=""),e.classList.remove("_active")}else for(var a=0;a<u.length;a++){var c=u[a],i=c.querySelector(".popup__video");i&&(i.innerHTML=""),c.classList.remove("_active")}!document.querySelector(".menu__body._active")&&r&&(r=500,n=document.querySelector("body"),l&&(o=document.querySelectorAll("._lp"),setTimeout(function(){for(var e=0;e<o.length;e++)o[e].style.paddingRight="0px";n.style.paddingRight="0px",n.classList.remove("_lock")},r),l=!1,setTimeout(function(){l=!0},r))),history.pushState("","",window.location.href.split("#")[0])}}var a=document.querySelectorAll(".popup__close,._popup-close");if(a)for(var c=0;c<a.length;c++)!function(){var e=a[c];e.addEventListener("click",function(){r(e.closest(".popup"))})}();document.addEventListener("keydown",function(e){"Escape"===e.code&&r()})}()}();